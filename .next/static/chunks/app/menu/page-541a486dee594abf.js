(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{1028:(e,a,t)=>{"use strict";t.d(a,{J:()=>l});var r=t(2115);let s=(0,t(9535).createBrowserClient)("https://scjjkmuwadwkaaqjoigx.supabase.co/","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjamprbXV3YWR3a2FhcWpvaWd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NzA0MjIsImV4cCI6MjA2NTI0NjQyMn0.ZyyUD5fJkLiSUCc9E8dIq2J8nW39VCzVJThlNxy8MVk");function l(){let[e,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await s.auth.getSession();a(null!=(e=null==t?void 0:t.user)?e:null)})()},[]),{user:e}}},4709:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(5155),s=t(2115),l=t(9535),n=t(1028);function i(){let e=(0,l.createBrowserClient)(),{user:a}=(0,n.J)(),[t,i]=(0,s.useState)([]),[o,c]=(0,s.useState)({name:"",labor_time:"",parts_cost:"",total_price:"",category:""}),d=async()=>{let{data:t,error:r}=await e.from("menu_items").select("*").eq("user_id",null==a?void 0:a.id);r||i(t||[])},u=async()=>{if(!o.name||!o.total_price)return alert("Fill required fields");await e.from("menu_items").insert([{...o,user_id:null==a?void 0:a.id}]),c({name:"",labor_time:"",parts_cost:"",total_price:"",category:""}),d()};return(0,s.useEffect)(()=>{(null==a?void 0:a.id)&&d()},[a]),(0,r.jsxs)("div",{className:"p-4 max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Menu Pricing"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsx)("input",{placeholder:"Job Name",className:"border p-2 rounded",value:o.name,onChange:e=>c({...o,name:e.target.value})}),(0,r.jsx)("input",{placeholder:"Category (Brakes, Oil Change...)",className:"border p-2 rounded",value:o.category,onChange:e=>c({...o,category:e.target.value})}),(0,r.jsx)("input",{placeholder:"Labor Time (hrs)",type:"number",className:"border p-2 rounded",value:o.labor_time,onChange:e=>c({...o,labor_time:e.target.value})}),(0,r.jsx)("input",{placeholder:"Parts Cost ($)",type:"number",className:"border p-2 rounded",value:o.parts_cost,onChange:e=>c({...o,parts_cost:e.target.value})}),(0,r.jsx)("input",{placeholder:"Total Price ($)",type:"number",className:"border p-2 rounded col-span-2",value:o.total_price,onChange:e=>c({...o,total_price:e.target.value})})]}),(0,r.jsx)("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add Menu Item"}),(0,r.jsx)("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Existing Items"}),0===t.length&&(0,r.jsx)("p",{children:"No menu items yet."}),t.map(e=>(0,r.jsxs)("div",{className:"border p-3 rounded mb-2",children:[(0,r.jsx)("strong",{children:e.name})," â€“ $",e.total_price," (",e.labor_time," ","hrs)",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Category: ",e.category]})]},e.id))]})}},8005:(e,a,t)=>{Promise.resolve().then(t.bind(t,4709))}},e=>{var a=a=>e(e.s=a);e.O(0,[982,535,441,684,358],()=>a(8005)),_N_E=e.O()}]);