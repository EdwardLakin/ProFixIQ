(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{6199:(e,s,r)=>{Promise.resolve().then(r.bind(r,7397))},7397:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var a=r(5155),l=r(2115),t=r(9535),d=r(9957);let i=(0,t.createBrowserClient)();function n(){let[e,s]=(0,l.useState)([]),[r,t]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{let{data:e,error:r}=await i.from("work_order_approvals").select("*").eq("status","pending").order("created_at",{ascending:!1});r?console.error("Error fetching approvals:",r):s(e||[]),t(!1)})()},[]);let n=async(e,r)=>{await i.from("work_order_approvals").update({status:r}).eq("id",e),s(s=>s.filter(s=>s.id!==e))};return r?(0,a.jsx)("div",{className:"p-4",children:"Loading approvals…"}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Booking Approvals"}),0===e.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"No pending requests."}):e.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,a.jsxs)("div",{className:"mb-2 font-semibold",children:[e.customer_name," — ",e.vehicle_year," ",e.vehicle_make," ",e.vehicle_model]}),(0,a.jsx)("p",{className:"mb-4",children:e.request_summary}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.Button,{onClick:()=>n(e.id,"approved"),children:"Approve"}),(0,a.jsx)(d.Button,{variant:"outline",onClick:()=>n(e.id,"rejected"),children:"Reject"})]})]},e.id))]})}},9957:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[982,535,441,684,358],()=>s(6199)),_N_E=e.O()}]);